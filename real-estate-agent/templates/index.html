<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Agent</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="top-nav">
        <a href="/">Home</a>
        <a href="/saved">Properties</a>
        <a href="/tours">Tours</a>
    </div>
    <div class="chat-container">
        <div class="chat-header">
            <h1>Real Estate Agent</h1>
            <p>Find your dream house suited to your preferences, research the market and local house prices, nearby schools and restaurants and get advice on buying your perfect home</p>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="loading show" id="initialLoading">
                Loading your Real Estate Agent...
            </div>
        </div>
        
        <div class="profile-section">
            <span class="profile-label">Your Name:</span>
            <input 
                type="text" 
                class="profile-input" 
                id="buyerNameInput" 
                list="buyerNames"
                placeholder="Enter your name for personalized property recommendations"
            >
            <datalist id="buyerNames"></datalist>
            <span class="profile-status" id="profileStatus"></span>
            <button 
                type="button" 
                class="clear-history-button" 
                id="clearHistoryButton"
                title="Clear conversation history"
            >
                üóëÔ∏è Clear History
            </button>
        </div>
        
        <div class="quick-prompts" id="quickPrompts" style="padding: 10px 20px; background: #fff; border-top: 1px solid #f3f4f6; display: flex; gap: 8px; flex-wrap: wrap;">
            <button type="button" class="quick-prompt" data-text="I'm looking for a 3-bedroom house under $900k">3bd under $900k</button>
            <button type="button" class="quick-prompt" data-text="What are the current market trends for homes in my area?">Housing market trends</button>
            <button type="button" class="quick-prompt" data-text="Find beachfront properties">Beachfront Properties</button>
            <button type="button" class="quick-prompt" data-text="Can you explain the steps to get pre-approved for a mortgage?">Mortgage Approval</button>
            <button type="button" class="quick-prompt" data-text="I'm interested in a condo with a large backyard">Condo with large backyard</button>
            <button type="button" class="quick-prompt" data-text="Show me single-story homes with a dedicated home office">Single-story with home office</button>
        </div>
        
        <div class="chat-input-container">
            <form class="chat-input-form" id="chatForm">
                <input 
                    type="text" 
                    class="chat-input" 
                    id="messageInput" 
                    placeholder="Describe your dream home, ask about the market, or get real estate advice..."
                    disabled
                >
                <button type="submit" class="send-button" id="sendButton" disabled>
                    Send
                </button>
            </form>
        </div>
    </div>
    
    <!-- Properties panel outside the chat window -->
    <section id="propertiesPanel" class="properties-panel">
        <div class="properties-panel-inner">
            <div class="properties-panel-header">
                <div class="properties-header-left">
                    <h2>Properties</h2>
                </div>
                <div id="propertiesMeta" class="properties-meta"></div>
            </div>
            <div id="propertiesList" class="properties-container"></div>
        </div>
    </section>

    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>
</html>